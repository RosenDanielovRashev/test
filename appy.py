import streamlit as st
import pandas as pd
import numpy as np
import plotly.express as px
import plotly.graph_objects as go
from datetime import datetime
from io import BytesIO
from fpdf import FPDF
import base64

st.set_page_config(page_title="–¢–µ—Å—Ç–æ–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å PDF –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ", layout="wide")

st.title("üìä –¢–µ—Å—Ç–æ–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å PDF –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ")
st.markdown("---")

# –°–µ–∫—Ü–∏—è 1: –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏
st.header("üìù –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏")
col1, col2, col3 = st.columns(3)

with col1:
    –∏–º–µ_–ø—Ä–æ–µ–∫—Ç = st.text_input("–ò–º–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç", "–ú–æ—è—Ç —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç")
    –±—é–¥–∂–µ—Ç = st.number_input("–ë—é–¥–∂–µ—Ç (–ª–≤)", min_value=0, value=10000)

with col2:
    –Ω–∞—á–∞–ª–æ_–¥–∞—Ç–∞ = st.date_input("–ù–∞—á–∞–ª–Ω–∞ –¥–∞—Ç–∞")
    –∫—Ä–∞–π_–¥–∞—Ç–∞ = st.date_input("–ö—Ä–∞–π–Ω–∞ –¥–∞—Ç–∞")

with col3:
    –±—Ä–æ–π_–µ–ª–µ–º–µ–Ω—Ç–∏ = st.slider("–ë—Ä–æ–π –µ–ª–µ–º–µ–Ω—Ç–∏", 1, 100, 10)
    –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç = st.selectbox("–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç", ["–ù–∏—Å—ä–∫", "–°—Ä–µ–¥–µ–Ω", "–í–∏—Å–æ–∫"])

# –ò–∑—á–∏—Å–ª–µ–Ω–∏—è
—Å—Ä–µ–¥–Ω–∞_—Å—Ç–æ–π–Ω–æ—Å—Ç = –±—é–¥–∂–µ—Ç / –±—Ä–æ–π_–µ–ª–µ–º–µ–Ω—Ç–∏ if –±—Ä–æ–π_–µ–ª–µ–º–µ–Ω—Ç–∏ > 0 else 0
–¥–Ω–∏_–ø—Ä–æ–µ–∫—Ç = (–∫—Ä–∞–π_–¥–∞—Ç–∞ - –Ω–∞—á–∞–ª–æ_–¥–∞—Ç–∞).days if –∫—Ä–∞–π_–¥–∞—Ç–∞ and –Ω–∞—á–∞–ª–æ_–¥–∞—Ç–∞ else 0

# –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –æ—Ç –∏–∑—á–∏—Å–ª–µ–Ω–∏—è—Ç–∞
st.subheader("–†–µ–∑—É–ª—Ç–∞—Ç–∏ –æ—Ç –∏–∑—á–∏—Å–ª–µ–Ω–∏—è—Ç–∞")
col1, col2 = st.columns(2)
with col1:
    st.metric("–°—Ä–µ–¥–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç", f"{—Å—Ä–µ–¥–Ω–∞_—Å—Ç–æ–π–Ω–æ—Å—Ç:.2f} –ª–≤")
with col2:
    st.metric("–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞", f"{–¥–Ω–∏_–ø—Ä–æ–µ–∫—Ç} –¥–Ω–∏")

st.markdown("---")

# –°–µ–∫—Ü–∏—è 2: –ì—Ä–∞—Ñ–∏–∫–∏
st.header("üìà –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏")

# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–Ω–∏ –¥–∞–Ω–Ω–∏
np.random.seed(42)
–¥–∞–Ω–Ω–∏ = pd.DataFrame({
    '–ú–µ—Å–µ—Ü': ['–Ø–Ω—É', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–Æ–Ω–∏'],
    '–ü—Ä–∏—Ö–æ–¥–∏': np.random.randint(1000, 5000, 6),
    '–†–∞–∑—Ö–æ–¥–∏': np.random.randint(500, 3000, 6)
})
–¥–∞–Ω–Ω–∏['–ü–µ—á–∞–ª–±–∞'] = –¥–∞–Ω–Ω–∏['–ü—Ä–∏—Ö–æ–¥–∏'] - –¥–∞–Ω–Ω–∏['–†–∞–∑—Ö–æ–¥–∏']

col1, col2 = st.columns(2)

with col1:
    st.subheader("–ü—Ä–∏—Ö–æ–¥–∏ –∏ —Ä–∞–∑—Ö–æ–¥–∏")
    fig1 = px.bar(–¥–∞–Ω–Ω–∏, x='–ú–µ—Å–µ—Ü', y=['–ü—Ä–∏—Ö–æ–¥–∏', '–†–∞–∑—Ö–æ–¥–∏'], 
                  title="–ü—Ä–∏—Ö–æ–¥–∏ –∏ —Ä–∞–∑—Ö–æ–¥–∏ –ø–æ –º–µ—Å–µ—Ü–∏",
                  barmode='group')
    st.plotly_chart(fig1, use_container_width=True)

with col2:
    st.subheader("–ü–µ—á–∞–ª–±–∞")
    fig2 = px.line(–¥–∞–Ω–Ω–∏, x='–ú–µ—Å–µ—Ü', y='–ü–µ—á–∞–ª–±–∞', 
                   title="–ü–µ—á–∞–ª–±–∞ –ø–æ –º–µ—Å–µ—Ü–∏", markers=True)
    fig2.add_hline(y=0, line_dash="dash", line_color="red")
    st.plotly_chart(fig2, use_container_width=True)

# –°–µ–∫—Ü–∏—è 3: –¢–∞–±–ª–∏—Ü–∏
st.header("üìã –î–∞–Ω–Ω–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞")
table_data = pd.DataFrame({
    'ID': range(1, 7),
    '–ó–∞–¥–∞—á–∞': [f'–ó–∞–¥–∞—á–∞ {i}' for i in range(1, 7)],
    '–°—Ç–∞—Ç—É—Å': ['–ó–∞–≤—ä—Ä—à–µ–Ω–∞', '–í –ø—Ä–æ–≥—Ä–µ—Å', '–ß–∞–∫–∞—â–∞', '–ó–∞–≤—ä—Ä—à–µ–Ω–∞', '–í –ø—Ä–æ–≥—Ä–µ—Å', '–ß–∞–∫–∞—â–∞'],
    '–ü—Ä–æ–≥—Ä–µ—Å %': [100, 75, 0, 100, 50, 25],
    '–û—Ç–≥–æ–≤–æ—Ä–µ–Ω': ['–ò–≤–∞–Ω', '–ú–∞—Ä–∏—è', '–ü–µ—Ç—ä—Ä', '–ê–Ω–Ω–∞', '–ì–µ–æ—Ä–≥–∏', '–ï–ª–µ–Ω–∞']
})
st.dataframe(table_data, use_container_width=True)

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
st.subheader("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
col1, col2, col3, col4 = st.columns(4)
with col1:
    st.metric("–û–±—â –ø—Ä–∏—Ö–æ–¥", f"{–¥–∞–Ω–Ω–∏['–ü—Ä–∏—Ö–æ–¥–∏'].sum()} –ª–≤")
with col2:
    st.metric("–û–±—â —Ä–∞–∑—Ö–æ–¥", f"{–¥–∞–Ω–Ω–∏['–†–∞–∑—Ö–æ–¥–∏'].sum()} –ª–≤")
with col3:
    st.metric("–û–±—â–∞ –ø–µ—á–∞–ª–±–∞", f"{–¥–∞–Ω–Ω–∏['–ü–µ—á–∞–ª–±–∞'].sum()} –ª–≤")
with col4:
    st.metric("–°—Ä–µ–¥–Ω–∞ –ø–µ—á–∞–ª–±–∞", f"{–¥–∞–Ω–Ω–∏['–ü–µ—á–∞–ª–±–∞'].mean():.1f} –ª–≤")

st.markdown("---")

# –§—É–Ω–∫—Ü–∏—è –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF
def generate_pdf():
    pdf = FPDF()
    pdf.add_page()
    
    # –ó–∞–≥–ª–∞–≤–∏–µ
    pdf.set_font('Arial', 'B', 16)
    pdf.cell(200, 10, f'–û–¢–ß–ï–¢: {–∏–º–µ_–ø—Ä–æ–µ–∫—Ç}', 0, 1, 'C')
    pdf.ln(5)
    
    # –î–∞—Ç–∞ –Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ
    pdf.set_font('Arial', 'I', 10)
    pdf.cell(200, 10, f'–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω –Ω–∞: {datetime.now().strftime("%Y-%m-%d %H:%M")}', 0, 1, 'C')
    pdf.ln(10)
    
    # –û—Å–Ω–æ–≤–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    pdf.set_font('Arial', 'B', 12)
    pdf.cell(200, 10, '–û—Å–Ω–æ–≤–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:', 0, 1)
    pdf.set_font('Arial', '', 11)
    
    info_data = [
        f'–ò–º–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç: {–∏–º–µ_–ø—Ä–æ–µ–∫—Ç}',
        f'–ë—é–¥–∂–µ—Ç: {–±—é–¥–∂–µ—Ç} –ª–≤',
        f'–ù–∞—á–∞–ª–Ω–∞ –¥–∞—Ç–∞: {–Ω–∞—á–∞–ª–æ_–¥–∞—Ç–∞}',
        f'–ö—Ä–∞–π–Ω–∞ –¥–∞—Ç–∞: {–∫—Ä–∞–π_–¥–∞—Ç–∞}',
        f'–ë—Ä–æ–π –µ–ª–µ–º–µ–Ω—Ç–∏: {–±—Ä–æ–π_–µ–ª–µ–º–µ–Ω—Ç–∏}',
        f'–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç}',
        f'–°—Ä–µ–¥–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç: {—Å—Ä–µ–¥–Ω–∞_—Å—Ç–æ–π–Ω–æ—Å—Ç:.2f} –ª–≤',
        f'–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞: {–¥–Ω–∏_–ø—Ä–æ–µ–∫—Ç} –¥–Ω–∏'
    ]
    
    for info in info_data:
        pdf.cell(200, 8, info, 0, 1)
    
    pdf.ln(10)
    
    # –§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
    pdf.set_font('Arial', 'B', 12)
    pdf.cell(200, 10, '–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:', 0, 1)
    pdf.set_font('Arial', '', 11)
    
    financial_data = [
        f'–û–±—â –ø—Ä–∏—Ö–æ–¥: {–¥–∞–Ω–Ω–∏["–ü—Ä–∏—Ö–æ–¥–∏"].sum()} –ª–≤',
        f'–û–±—â —Ä–∞–∑—Ö–æ–¥: {–¥–∞–Ω–Ω–∏["–†–∞–∑—Ö–æ–¥–∏"].sum()} –ª–≤',
        f'–û–±—â–∞ –ø–µ—á–∞–ª–±–∞: {–¥–∞–Ω–Ω–∏["–ü–µ—á–∞–ª–±–∞"].sum()} –ª–≤',
        f'–°—Ä–µ–¥–Ω–∞ –º–µ—Å–µ—á–Ω–∞ –ø–µ—á–∞–ª–±–∞: {–¥–∞–Ω–Ω–∏["–ü–µ—á–∞–ª–±–∞"].mean():.2f} –ª–≤'
    ]
    
    for data in financial_data:
        pdf.cell(200, 8, data, 0, 1)
    
    pdf.ln(10)
    
    # –¢–∞–±–ª–∏—Ü–∞ —Å—ä—Å –∑–∞–¥–∞—á–∏
    pdf.set_font('Arial', 'B', 12)
    pdf.cell(200, 10, '–°–ø–∏—Å—ä–∫ —Å—ä—Å –∑–∞–¥–∞—á–∏:', 0, 1)
    pdf.ln(5)
    
    # –ó–∞–≥–ª–∞–≤–∏—è –Ω–∞ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞
    pdf.set_font('Arial', 'B', 10)
    col_widths = [15, 50, 40, 30, 40]
    headers = ['ID', '–ó–∞–¥–∞—á–∞', '–°—Ç–∞—Ç—É—Å', '–ü—Ä–æ–≥—Ä–µ—Å %', '–û—Ç–≥–æ–≤–æ—Ä–µ–Ω']
    
    for i, header in enumerate(headers):
        pdf.cell(col_widths[i], 10, header, 1, 0, 'C')
    pdf.ln()
    
    # –î–∞–Ω–Ω–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ç–∞
    pdf.set_font('Arial', '', 9)
    for index, row in table_data.iterrows():
        pdf.cell(col_widths[0], 10, str(row['ID']), 1, 0, 'C')
        pdf.cell(col_widths[1], 10, str(row['–ó–∞–¥–∞—á–∞']), 1, 0, 'L')
        pdf.cell(col_widths[2], 10, str(row['–°—Ç–∞—Ç—É—Å']), 1, 0, 'C')
        pdf.cell(col_widths[3], 10, str(row['–ü—Ä–æ–≥—Ä–µ—Å %']), 1, 0, 'C')
        pdf.cell(col_widths[4], 10, str(row['–û—Ç–≥–æ–≤–æ—Ä–µ–Ω']), 1, 0, 'C')
        pdf.ln()
    
    pdf.ln(10)
    
    # –ú–µ—Å–µ—á–Ω–∏ –¥–∞–Ω–Ω–∏
    pdf.set_font('Arial', 'B', 12)
    pdf.cell(200, 10, '–ú–µ—Å–µ—á–Ω–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∏ –¥–∞–Ω–Ω–∏:', 0, 1)
    pdf.ln(5)
    
    # –ó–∞–≥–ª–∞–≤–∏—è –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞
    pdf.set_font('Arial', 'B', 10)
    fin_col_widths = [30, 40, 40, 40]
    fin_headers = ['–ú–µ—Å–µ—Ü', '–ü—Ä–∏—Ö–æ–¥–∏ (–ª–≤)', '–†–∞–∑—Ö–æ–¥–∏ (–ª–≤)', '–ü–µ—á–∞–ª–±–∞ (–ª–≤)']
    
    for i, header in enumerate(fin_headers):
        pdf.cell(fin_col_widths[i], 10, header, 1, 0, 'C')
    pdf.ln()
    
    # –î–∞–Ω–Ω–∏ –≤—ä–≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞
    pdf.set_font('Arial', '', 9)
    for index, row in –¥–∞–Ω–Ω–∏.iterrows():
        pdf.cell(fin_col_widths[0], 10, str(row['–ú–µ—Å–µ—Ü']), 1, 0, 'C')
        pdf.cell(fin_col_widths[1], 10, str(row['–ü—Ä–∏—Ö–æ–¥–∏']), 1, 0, 'C')
        pdf.cell(fin_col_widths[2], 10, str(row['–†–∞–∑—Ö–æ–¥–∏']), 1, 0, 'C')
        pdf.cell(fin_col_widths[3], 10, str(row['–ü–µ—á–∞–ª–±–∞']), 1, 0, 'C')
        pdf.ln()
    
    pdf.ln(15)
    
    # –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
    pdf.set_font('Arial', 'I', 10)
    pdf.multi_cell(0, 8, '–¢–æ–∑–∏ –æ—Ç—á–µ—Ç –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç —Ç–µ—Å—Ç–æ–≤–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –°—ä–¥—ä—Ä–∂–∞ –≤—Å–∏—á–∫–∏ –≤—ä–≤–µ–¥–µ–Ω–∏ –¥–∞–Ω–Ω–∏, –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –∏ —Ç–∞–±–ª–∏—Ü–∏.')
    
    return pdf.output(dest='S').encode('latin1')

# –°–µ–∫—Ü–∏—è –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF
st.header("üìÑ –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF –æ—Ç—á–µ—Ç")

st.markdown("""
### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- –ü–æ–ø—ä–ª–Ω–µ—Ç–µ –¥–∞–Ω–Ω–∏—Ç–µ –ø–æ-–≥–æ—Ä–µ
- –ö–ª–∏–∫–Ω–µ—Ç–µ –±—É—Ç–æ–Ω–∞ –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF
- PDF —Ñ–∞–π–ª—ä—Ç —â–µ —Å–µ –∏–∑—Ç–µ–≥–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
""")

col1, col2 = st.columns(2)

with col1:
    if st.button("üîÑ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π PDF –æ—Ç—á–µ—Ç", type="primary", use_container_width=True):
        try:
            # –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF
            pdf_output = generate_pdf()
            
            # –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ download –±—É—Ç–æ–Ω
            st.download_button(
                label="üì• –ò–∑—Ç–µ–≥–ª–∏ PDF —Ñ–∞–π–ª",
                data=pdf_output,
                file_name=f"–æ—Ç—á–µ—Ç_{–∏–º–µ_–ø—Ä–æ–µ–∫—Ç}_{datetime.now().strftime('%Y%m%d_%H%M')}.pdf",
                mime="application/pdf",
                type="primary",
                use_container_width=True
            )
            
            st.success("‚úÖ PDF –æ—Ç—á–µ—Ç—ä—Ç –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω —É—Å–ø–µ—à–Ω–æ! –ö–ª–∏–∫–Ω–µ—Ç–µ –±—É—Ç–æ–Ω–∞ –∑–∞ –∏–∑—Ç–µ–≥–ª—è–Ω–µ.")
            
        except Exception as e:
            st.error(f"‚ùå –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF: {str(e)}")

with col2:
    st.info("""
    **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞ PDF –æ—Ç—á–µ—Ç–∞:**
    - –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ
    - –í—Å–∏—á–∫–∏ –≤—ä–≤–µ–¥–µ–Ω–∏ –¥–∞–Ω–Ω–∏
    - –¢–∞–±–ª–∏—Ü–∏ —Å—ä—Å –∑–∞–¥–∞—á–∏
    - –§–∏–Ω–∞–Ω—Å–æ–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ
    """)

# –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
st.markdown("---")
st.subheader("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ")

tab1, tab2, tab3 = st.tabs(["–û–ø–∏—Å–∞–Ω–∏–µ", "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–°—Ç–∞—Ç—É—Å"])

with tab1:
    st.write("""
    –¢–æ–≤–∞ –µ —Ç–µ—Å—Ç–æ–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF –æ—Ç—á–µ—Ç–∏.
    
    **–í–∫–ª—é—á–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏:**
    - –í—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ —á—Ä–µ–∑ —Ñ–æ—Ä–º–∞
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è
    - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏ —Å –≥—Ä–∞—Ñ–∏–∫–∏
    - –¢–∞–±–ª–∏—á–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    - –ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF –æ—Ç—á–µ—Ç
    """)

with tab2:
    st.write("""
    **–ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
    - Streamlit - —É–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    - Pandas - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –¥–∞–Ω–Ω–∏
    - Plotly - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
    - FPDF - –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ PDF
    - NumPy - –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è
    """)

with tab3:
    st.write("""
    **–°—Ç–∞—Ç—É—Å –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:**
    - ‚úÖ –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç - –≥–æ—Ç–æ–≤–∞
    - ‚úÖ PDF –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ - –≥–æ—Ç–æ–≤–∞
    - ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ - –≥–æ—Ç–æ–≤–∏
    - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –¥–∞–Ω–Ω–∏ - –≥–æ—Ç–æ–≤–∞
    
    **–°—ä—Å—Ç–æ—è–Ω–∏–µ:** üü¢ –†–∞–±–æ—Ç–µ—â–æ
    """)

# –î–æ–ª–µ–Ω –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª
st.markdown("---")
st.markdown(
    f"<div style='text-align: center; color: #666; font-size: 0.8em;'>"
    f"–¢–µ—Å—Ç–æ–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ PDF –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ | "
    f"–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–æ –Ω–∞: {datetime.now().strftime('%Y-%m-%d %H:%M')}"
    f"</div>", 
    unsafe_allow_html=True
)
